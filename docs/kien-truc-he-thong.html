<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiến trúc Hệ thống - Website Nhà Hàng Phương Nam</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; padding: 20px; background: #fff; }
        h1, h2 { text-align: center; margin-bottom: 20px; }
        svg { display: block; margin: 0 auto 40px; }
        .page-break { page-break-before: always; }
    </style>
</head>
<body>
    <h1>KIẾN TRÚC HỆ THỐNG</h1>
    <h2>Website Nhà Hàng Ẩm Thực Phương Nam - Vĩnh Long</h2>

    <!-- Sơ đồ 1: Kiến trúc tổng quan -->
    <h2>1. Kiến trúc Client-Server</h2>
    <svg width="800" height="500" style="border: 1px solid #000;">
        <!-- Client Layer -->
        <rect x="50" y="30" width="700" height="120" fill="none" stroke="#000" stroke-width="2"/>
        <text x="350" y="55" font-size="14" font-weight="bold" text-anchor="middle">CLIENT LAYER</text>
        
        <!-- Browser boxes -->
        <rect x="80" y="70" width="150" height="60" fill="none" stroke="#000" stroke-width="1"/>
        <text x="155" y="95" font-size="11" text-anchor="middle">Customer Website</text>
        <text x="155" y="115" font-size="9" text-anchor="middle">(HTML/CSS/JS/GSAP)</text>
        
        <rect x="280" y="70" width="150" height="60" fill="none" stroke="#000" stroke-width="1"/>
        <text x="355" y="95" font-size="11" text-anchor="middle">Admin Dashboard</text>
        <text x="355" y="115" font-size="9" text-anchor="middle">(HTML/CSS/JS)</text>
        
        <rect x="480" y="70" width="150" height="60" fill="none" stroke="#000" stroke-width="1"/>
        <text x="555" y="95" font-size="11" text-anchor="middle">Mobile Browser</text>
        <text x="555" y="115" font-size="9" text-anchor="middle">(Responsive)</text>
        
        <!-- Arrow down -->
        <line x1="400" y1="150" x2="400" y2="180" stroke="#000" stroke-width="2" marker-end="url(#arrow)"/>
        <text x="410" y="170" font-size="10">HTTP/REST API</text>
        
        <!-- Server Layer -->
        <rect x="50" y="180" width="700" height="150" fill="none" stroke="#000" stroke-width="2"/>
        <text x="350" y="205" font-size="14" font-weight="bold" text-anchor="middle">SERVER LAYER (Node.js + Express.js)</text>
        
        <!-- Middleware boxes -->
        <rect x="80" y="220" width="80" height="40" fill="none" stroke="#000" stroke-width="1"/>
        <text x="120" y="245" font-size="10" text-anchor="middle">CORS</text>
        
        <rect x="170" y="220" width="80" height="40" fill="none" stroke="#000" stroke-width="1"/>
        <text x="210" y="245" font-size="10" text-anchor="middle">Session</text>
        
        <rect x="260" y="220" width="80" height="40" fill="none" stroke="#000" stroke-width="1"/>
        <text x="300" y="245" font-size="10" text-anchor="middle">JWT Auth</text>
        
        <rect x="350" y="220" width="80" height="40" fill="none" stroke="#000" stroke-width="1"/>
        <text x="390" y="245" font-size="10" text-anchor="middle">Multer</text>
        
        <!-- API Routes -->
        <rect x="80" y="275" width="600" height="40" fill="none" stroke="#000" stroke-width="1"/>
        <text x="90" y="300" font-size="9">/api/menu  /api/auth  /api/cart  /api/orders  /api/reservations  /api/albums  /api/news  /api/admin-auth</text>
        
        <!-- Arrow down -->
        <line x1="400" y1="330" x2="400" y2="360" stroke="#000" stroke-width="2" marker-end="url(#arrow)"/>
        <text x="410" y="350" font-size="10">MySQL Protocol</text>
        
        <!-- Data Layer -->
        <rect x="50" y="360" width="700" height="120" fill="none" stroke="#000" stroke-width="2"/>
        <text x="350" y="385" font-size="14" font-weight="bold" text-anchor="middle">DATA LAYER (MySQL)</text>
        
        <!-- Database tables -->
        <rect x="80" y="400" width="100" height="30" fill="none" stroke="#000" stroke-width="1"/>
        <text x="130" y="420" font-size="9" text-anchor="middle">nguoi_dung</text>
        
        <rect x="190" y="400" width="80" height="30" fill="none" stroke="#000" stroke-width="1"/>
        <text x="230" y="420" font-size="9" text-anchor="middle">mon_an</text>
        
        <rect x="280" y="400" width="80" height="30" fill="none" stroke="#000" stroke-width="1"/>
        <text x="320" y="420" font-size="9" text-anchor="middle">don_hang</text>
        
        <rect x="370" y="400" width="80" height="30" fill="none" stroke="#000" stroke-width="1"/>
        <text x="410" y="420" font-size="9" text-anchor="middle">dat_ban</text>
        
        <rect x="460" y="400" width="80" height="30" fill="none" stroke="#000" stroke-width="1"/>
        <text x="500" y="420" font-size="9" text-anchor="middle">tin_tuc</text>
        
        <rect x="550" y="400" width="100" height="30" fill="none" stroke="#000" stroke-width="1"/>
        <text x="600" y="420" font-size="9" text-anchor="middle">thanh_toan</text>
        
        <rect x="280" y="440" width="100" height="30" fill="none" stroke="#000" stroke-width="1"/>
        <text x="330" y="460" font-size="9" text-anchor="middle">album_anh</text>
        
        <rect x="390" y="440" width="100" height="30" fill="none" stroke="#000" stroke-width="1"/>
        <text x="440" y="460" font-size="9" text-anchor="middle">danh_muc</text>
        
        <defs>
            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                <path d="M0,0 L0,6 L9,3 z" fill="#000"/>
            </marker>
        </defs>
    </svg>

    <div class="page-break"></div>
    
    <!-- Sơ đồ 2: Cấu trúc thư mục -->
    <h2>2. Cấu trúc thư mục dự án</h2>
    <svg width="700" height="700" style="border: 1px solid #000;">
        <!-- Root -->
        <text x="50" y="40" font-size="14" font-weight="bold">amthuc-phuongnam/</text>
        
        <!-- Backend folder -->
        <rect x="70" y="55" width="280" height="280" fill="none" stroke="#000" stroke-width="1"/>
        <text x="80" y="75" font-size="12" font-weight="bold">backend/</text>
        
        <text x="90" y="95" font-size="10">├── config/</text>
        <text x="110" y="110" font-size="9">├── database.js</text>
        <text x="110" y="125" font-size="9">├── email.js</text>
        <text x="110" y="140" font-size="9">├── momo.js</text>
        <text x="110" y="155" font-size="9">└── passport.js</text>
        
        <text x="90" y="175" font-size="10">├── routes/</text>
        <text x="110" y="190" font-size="9">├── auth.js</text>
        <text x="110" y="205" font-size="9">├── menu.js</text>
        <text x="110" y="220" font-size="9">├── cart.js</text>
        <text x="110" y="235" font-size="9">├── orders.js</text>
        <text x="110" y="250" font-size="9">├── reservations.js</text>
        <text x="110" y="265" font-size="9">├── albums.js</text>
        <text x="110" y="280" font-size="9">└── ...</text>
        
        <text x="90" y="300" font-size="10">├── images/</text>
        <text x="90" y="315" font-size="10">├── server.js</text>
        <text x="90" y="330" font-size="10">└── package.json</text>
        
        <!-- Frontend folder -->
        <rect x="370" y="55" width="280" height="350" fill="none" stroke="#000" stroke-width="1"/>
        <text x="380" y="75" font-size="12" font-weight="bold">frontend/</text>
        
        <text x="390" y="95" font-size="10">├── admin/</text>
        <text x="410" y="110" font-size="9">├── dashboard.html</text>
        <text x="410" y="125" font-size="9">├── products.html</text>
        <text x="410" y="140" font-size="9">├── orders.html</text>
        <text x="410" y="155" font-size="9">├── customers.html</text>
        <text x="410" y="170" font-size="9">└── ...</text>
        
        <text x="390" y="190" font-size="10">├── css/</text>
        <text x="410" y="205" font-size="9">└── responsive.css</text>
        
        <text x="390" y="225" font-size="10">├── js/</text>
        <text x="390" y="245" font-size="10">├── components/</text>
        <text x="390" y="265" font-size="10">├── images/</text>
        
        <text x="390" y="290" font-size="10">├── index.html</text>
        <text x="390" y="305" font-size="10">├── thuc-don.html</text>
        <text x="390" y="320" font-size="10">├── dat-ban.html</text>
        <text x="390" y="335" font-size="10">├── gio-hang.html</text>
        <text x="390" y="350" font-size="10">├── thanh-toan.html</text>
        <text x="390" y="365" font-size="10">├── dang-nhap.html</text>
        <text x="390" y="380" font-size="10">├── dang-ky.html</text>
        <text x="390" y="395" font-size="10">└── ...</text>
        
        <!-- Other files -->
        <text x="70" y="430" font-size="10">├── init.sql</text>
        <text x="70" y="450" font-size="10">├── README.md</text>
        <text x="70" y="470" font-size="10">└── .gitignore</text>
    </svg>

    <div class="page-break"></div>
    
    <!-- Sơ đồ 3: Luồng xử lý Request -->
    <h2>3. Luồng xử lý Request</h2>
    <svg width="800" height="400" style="border: 1px solid #000;">
        <!-- Client -->
        <rect x="50" y="150" width="100" height="60" fill="none" stroke="#000" stroke-width="2"/>
        <text x="75" y="175" font-size="11">Client</text>
        <text x="65" y="195" font-size="9">(Browser)</text>
        
        <!-- Arrow 1 -->
        <line x1="150" y1="170" x2="200" y2="170" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="155" y="165" font-size="8">1. HTTP Request</text>
        
        <!-- Express -->
        <rect x="200" y="150" width="100" height="60" fill="none" stroke="#000" stroke-width="2"/>
        <text x="215" y="175" font-size="11">Express.js</text>
        <text x="220" y="195" font-size="9">(Router)</text>
        
        <!-- Arrow 2 -->
        <line x1="300" y1="170" x2="350" y2="170" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="305" y="165" font-size="8">2. Route</text>
        
        <!-- Middleware -->
        <rect x="350" y="150" width="100" height="60" fill="none" stroke="#000" stroke-width="2"/>
        <text x="360" y="175" font-size="11">Middleware</text>
        <text x="355" y="195" font-size="9">(Auth, CORS)</text>
        
        <!-- Arrow 3 -->
        <line x1="450" y1="170" x2="500" y2="170" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="455" y="165" font-size="8">3. Validate</text>
        
        <!-- Controller -->
        <rect x="500" y="150" width="100" height="60" fill="none" stroke="#000" stroke-width="2"/>
        <text x="515" y="175" font-size="11">Controller</text>
        <text x="510" y="195" font-size="9">(Business)</text>
        
        <!-- Arrow 4 -->
        <line x1="600" y1="170" x2="650" y2="170" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="605" y="165" font-size="8">4. Query</text>
        
        <!-- Database -->
        <ellipse cx="700" cy="180" rx="50" ry="30" fill="none" stroke="#000" stroke-width="2"/>
        <text x="680" y="185" font-size="11">MySQL</text>
        
        <!-- Return arrows -->
        <line x1="700" y1="210" x2="700" y2="280" stroke="#000" stroke-width="1"/>
        <line x1="700" y1="280" x2="100" y2="280" stroke="#000" stroke-width="1"/>
        <line x1="100" y1="280" x2="100" y2="210" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="350" y="295" font-size="9">5. Response (JSON)</text>
        
        <!-- Legend -->
        <rect x="50" y="330" width="700" height="50" fill="none" stroke="#000" stroke-width="1" stroke-dasharray="3,3"/>
        <text x="60" y="350" font-size="10" font-weight="bold">Luồng xử lý:</text>
        <text x="60" y="370" font-size="9">1. Client gửi HTTP Request → 2. Express routing → 3. Middleware xác thực → 4. Controller xử lý → 5. Trả về JSON Response</text>
        
        <defs>
            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                <path d="M0,0 L0,6 L9,3 z" fill="#000"/>
            </marker>
        </defs>
    </svg>

    <div class="page-break"></div>
    
    <!-- Sơ đồ 4: Mô hình MVC -->
    <h2>4. Mô hình MVC</h2>
    <svg width="700" height="450" style="border: 1px solid #000;">
        <!-- User -->
        <circle cx="100" cy="225" r="30" fill="none" stroke="#000" stroke-width="2"/>
        <text x="85" y="230" font-size="11">User</text>
        
        <!-- View -->
        <rect x="200" y="50" width="150" height="80" fill="none" stroke="#000" stroke-width="2"/>
        <text x="250" y="85" font-size="12" font-weight="bold" text-anchor="middle">VIEW</text>
        <text x="250" y="105" font-size="9" text-anchor="middle">(HTML/CSS/JS)</text>
        <text x="250" y="120" font-size="9" text-anchor="middle">Giao diện người dùng</text>
        
        <!-- Controller -->
        <rect x="200" y="180" width="150" height="90" fill="none" stroke="#000" stroke-width="2"/>
        <text x="250" y="210" font-size="12" font-weight="bold" text-anchor="middle">CONTROLLER</text>
        <text x="250" y="230" font-size="9" text-anchor="middle">(Express Routes)</text>
        <text x="250" y="250" font-size="9" text-anchor="middle">Xử lý logic nghiệp vụ</text>
        
        <!-- Model -->
        <rect x="200" y="320" width="150" height="80" fill="none" stroke="#000" stroke-width="2"/>
        <text x="250" y="355" font-size="12" font-weight="bold" text-anchor="middle">MODEL</text>
        <text x="250" y="375" font-size="9" text-anchor="middle">(MySQL Queries)</text>
        <text x="250" y="390" font-size="9" text-anchor="middle">Truy vấn dữ liệu</text>
        
        <!-- Database -->
        <ellipse cx="500" cy="360" rx="60" ry="35" fill="none" stroke="#000" stroke-width="2"/>
        <text x="475" y="365" font-size="11">Database</text>
        
        <!-- Arrows -->
        <!-- User -> View -->
        <line x1="130" y1="210" x2="200" y2="100" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="140" y="150" font-size="8">1. Request</text>
        
        <!-- View -> Controller -->
        <line x1="275" y1="130" x2="275" y2="180" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="280" y="160" font-size="8">2. Action</text>
        
        <!-- Controller -> Model -->
        <line x1="275" y1="270" x2="275" y2="320" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="280" y="300" font-size="8">3. Query</text>
        
        <!-- Model -> Database -->
        <line x1="350" y1="360" x2="440" y2="360" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="370" y="355" font-size="8">4. SQL</text>
        
        <!-- Database -> Model -->
        <line x1="440" y1="380" x2="350" y2="380" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="370" y="395" font-size="8">5. Data</text>
        
        <!-- Model -> Controller -->
        <line x1="225" y1="320" x2="225" y2="270" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="180" y="300" font-size="8">6. Result</text>
        
        <!-- Controller -> View -->
        <line x1="225" y1="180" x2="225" y2="130" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="180" y="160" font-size="8">7. Data</text>
        
        <!-- View -> User -->
        <line x1="200" y1="80" x2="130" y2="200" stroke="#000" stroke-width="1" marker-end="url(#arrow)"/>
        <text x="140" y="130" font-size="8">8. Response</text>
        
        <defs>
            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                <path d="M0,0 L0,6 L9,3 z" fill="#000"/>
            </marker>
        </defs>
    </svg>
</body>
</html>
