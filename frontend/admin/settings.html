<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√†i ƒë·∫∑t - Admin</title>
    <link rel="icon" type="image/png" href="../images/Green Simple Clean Vegan Food Logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="stylesheet" href="admin-responsive.css">
</head>
<body>
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar w-72 flex-shrink-0">
            <div class="h-full flex flex-col">
                <div class="p-5 border-b border-white/10">
                    <div class="flex items-center space-x-3">
                        <img src="../images/Green Simple Clean Vegan Food Logo.png" alt="Logo" class="w-11 h-11 rounded-xl object-contain bg-white p-1">
                        <div><h1 class="font-bold text-white text-lg">Ph∆∞∆°ng Nam</h1><p class="text-xs text-blue-300">H·ªá th·ªëng qu·∫£n tr·ªã</p></div>
                    </div>
                </div>
                <nav class="flex-1 overflow-y-auto p-4">
                    <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3">Menu ch√≠nh</p>
                    <div class="space-y-1">
                        <a href="dashboard.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-chart-pie w-5"></i><span class="text-sm">T·ªïng quan</span></a>
                        <a href="products.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-utensils w-5"></i><span class="text-sm">M√≥n ƒÉn</span></a>
                        <a href="orders.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-shopping-cart w-5"></i><span class="text-sm">ƒê∆°n h√†ng</span></a>
                        <a href="reservations.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-calendar-check w-5"></i><span class="text-sm">ƒê·∫∑t b√†n</span></a>
                        <a href="customers.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-users w-5"></i><span class="text-sm">Kh√°ch h√†ng</span></a>
                        <a href="contacts.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-envelope w-5"></i><span class="text-sm">Li√™n h·ªá</span></a>
                        <a href="chatbot-history.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-robot w-5"></i><span class="text-sm">L·ªãch s·ª≠ Chatbot</span></a>
                        <a href="reviews.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-star w-5"></i><span class="text-sm">ƒê√°nh gi√°</span></a>
                        <a href="promotions.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-ticket-alt w-5"></i><span class="text-sm">Khuy·∫øn m√£i</span></a>
                    </div>
                    <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mt-6 mb-3">N·ªôi dung</p>
                    <div class="space-y-1">
                        <a href="news.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-newspaper w-5"></i><span class="text-sm">Tin t·ª©c</span></a>
                        <a href="quan-ly-binh-luan.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-comments w-5"></i><span class="text-sm">B√¨nh lu·∫≠n tin t·ª©c</span></a>
                        <a href="quan-ly-danh-gia-tin-tuc.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-thumbs-up w-5"></i><span class="text-sm">Reactions tin t·ª©c</span></a>
                        <a href="albums.html" class="sidebar-item flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-images w-5"></i><span class="text-sm">Album ·∫£nh</span></a>
                    </div>
                    <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mt-6 mb-3">H·ªá th·ªëng</p>
                    <div class="space-y-1">
                        <a href="settings.html" class="sidebar-item active flex items-center space-x-3 px-4 py-3 rounded-xl"><i class="fas fa-cog w-5"></i><span class="text-sm font-medium">C√†i ƒë·∫∑t</span></a>
                    </div>
                </nav>
                <div class="p-4 border-t border-white/10">
                    <div class="admin-card">
                        <div class="flex items-center space-x-3">
                            <img id="admin-avatar" referrerpolicy="no-referrer" src="https://ui-avatars.com/api/?name=Admin&background=3b82f6&color=fff" alt="Admin" class="w-12 h-12 rounded-full border-2 border-blue-400">
                            <div class="flex-1 min-w-0"><p id="admin-name" class="font-semibold text-sm text-white truncate">ƒêang t·∫£i...</p><p id="admin-email" class="text-xs text-blue-300 truncate">admin@example.com</p></div>
                        </div>
                        <div class="flex items-center justify-between mt-3 pt-3 border-t border-white/20">
                            <span class="text-xs text-blue-300"><i class="fab fa-google mr-1"></i>Google</span>
                            <button onclick="logout()" class="text-xs text-red-400 hover:text-red-300"><i class="fas fa-sign-out-alt mr-1"></i>ƒêƒÉng xu·∫•t</button>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Sidebar Overlay -->
            <div id="sidebar-overlay" class="sidebar-overlay" onclick="toggleSidebar()"></div>
            
            <header class="header-bar flex items-center justify-between">
                <div class="flex items-center space-x-3 sm:space-x-4">
                    <button onclick="toggleSidebar()" class="mobile-menu-btn lg:hidden text-white"><i class="fas fa-bars text-xl"></i></button>
                    <div><h2 class="text-base sm:text-xl font-bold">C√†i ƒë·∫∑t</h2><p class="text-xs sm:text-sm text-blue-200 hidden sm:block">Qu·∫£n l√Ω c·∫•u h√¨nh h·ªá th·ªëng</p></div>
                </div>
                <a href="../index.html" target="_blank" class="text-white hover:text-blue-200"><i class="fas fa-external-link-alt"></i></a>
            </header>

            <main class="flex-1 overflow-y-auto p-6">
                <div class="max-w-4xl mx-auto space-y-6">
                    <!-- Restaurant Info -->
                    <div class="content-card">
                        <h3 class="text-lg font-bold mb-4 flex items-center text-slate-800"><i class="fas fa-store text-blue-600 mr-2"></i>Th√¥ng tin nh√† h√†ng</h3>
                        <form class="space-y-4" onsubmit="saveRestaurantInfo(event)">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div><label class="block text-sm font-medium text-slate-700 mb-2">T√™n nh√† h√†ng</label><input type="text" id="ten_nha_hang" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500"></div>
                                <div><label class="block text-sm font-medium text-slate-700 mb-2">S·ªë ƒëi·ªán tho·∫°i</label><input type="tel" id="so_dien_thoai" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500"></div>
                                <div><label class="block text-sm font-medium text-slate-700 mb-2">Email</label><input type="email" id="email" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500"></div>
                                <div><label class="block text-sm font-medium text-slate-700 mb-2">Website</label><input type="url" id="website" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500"></div>
                                <div class="md:col-span-2"><label class="block text-sm font-medium text-slate-700 mb-2">ƒê·ªãa ch·ªâ</label><input type="text" id="dia_chi" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500"></div>
                            </div>
                            <div class="flex justify-end"><button type="submit" class="btn-primary"><i class="fas fa-save mr-2"></i>L∆∞u thay ƒë·ªïi</button></div>
                        </form>
                    </div>

                    <!-- Business Hours -->
                    <div class="content-card">
                        <h3 class="text-lg font-bold mb-4 flex items-center text-slate-800"><i class="fas fa-clock text-blue-600 mr-2"></i>Gi·ªù ho·∫°t ƒë·ªông</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-4 bg-slate-50 rounded-xl">
                                <span class="font-medium text-slate-700">Th·ª© 2 - Th·ª© 6</span>
                                <div class="flex items-center space-x-2">
                                    <input type="time" id="gio_mo_t2t6" value="08:00" class="px-3 py-2 border border-slate-200 rounded-xl">
                                    <span class="text-slate-400">-</span>
                                    <input type="time" id="gio_dong_t2t6" value="22:00" class="px-3 py-2 border border-slate-200 rounded-xl">
                                </div>
                            </div>
                            <div class="flex items-center justify-between p-4 bg-slate-50 rounded-xl">
                                <span class="font-medium text-slate-700">Th·ª© 7 - Ch·ªß nh·∫≠t</span>
                                <div class="flex items-center space-x-2">
                                    <input type="time" id="gio_mo_t7cn" value="07:00" class="px-3 py-2 border border-slate-200 rounded-xl">
                                    <span class="text-slate-400">-</span>
                                    <input type="time" id="gio_dong_t7cn" value="23:00" class="px-3 py-2 border border-slate-200 rounded-xl">
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-end mt-4"><button onclick="saveBusinessHours()" class="btn-primary"><i class="fas fa-save mr-2"></i>L∆∞u thay ƒë·ªïi</button></div>
                    </div>

                    <!-- Delivery Settings -->
                    <div class="content-card">
                        <h3 class="text-lg font-bold mb-4 flex items-center text-slate-800"><i class="fas fa-shipping-fast text-blue-600 mr-2"></i>C√†i ƒë·∫∑t giao h√†ng</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-4 bg-slate-50 rounded-xl">
                                <div><p class="font-medium text-slate-700">Cho ph√©p giao h√†ng</p><p class="text-sm text-slate-500">B·∫≠t/t·∫Øt ch·ª©c nƒÉng giao h√†ng</p></div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="cho_phep_giao_hang" checked class="sr-only peer">
                                    <div class="w-11 h-6 bg-slate-200 peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                            <div><label class="block text-sm font-medium text-slate-700 mb-2">Ph√≠ giao h√†ng m·∫∑c ƒë·ªãnh (VNƒê)</label><input type="number" id="phi_giao_hang" value="20000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500"></div>
                            <div><label class="block text-sm font-medium text-slate-700 mb-2">Mi·ªÖn ph√≠ giao h√†ng cho ƒë∆°n t·ª´ (VNƒê)</label><input type="number" id="mien_phi_giao_hang_tu" value="200000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500"></div>
                        </div>
                        <div class="flex justify-end mt-4"><button onclick="saveDeliverySettings()" class="btn-primary"><i class="fas fa-save mr-2"></i>L∆∞u thay ƒë·ªïi</button></div>
                    </div>

                    <!-- Social Media Links -->
                    <div class="content-card">
                        <h3 class="text-lg font-bold mb-4 flex items-center text-slate-800"><i class="fas fa-share-alt text-blue-600 mr-2"></i>M·∫°ng x√£ h·ªôi</h3>
                        <p class="text-sm text-slate-500 mb-4">C·∫≠p nh·∫≠t li√™n k·∫øt m·∫°ng x√£ h·ªôi hi·ªÉn th·ªã ·ªü footer website</p>
                        <div class="space-y-4">
                            <div class="flex items-center space-x-4 p-4 bg-slate-50 rounded-xl">
                                <div class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fab fa-facebook-f text-white text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Facebook</label>
                                    <input type="url" id="facebook_url" placeholder="https://facebook.com/yourpage" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                            </div>
                            <div class="flex items-center space-x-4 p-4 bg-slate-50 rounded-xl">
                                <div class="w-12 h-12 bg-red-600 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fab fa-youtube text-white text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <label class="block text-sm font-medium text-slate-700 mb-1">YouTube</label>
                                    <input type="url" id="youtube_url" placeholder="https://youtube.com/@yourchannel" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                            </div>
                            <div class="flex items-center space-x-4 p-4 bg-slate-50 rounded-xl">
                                <div class="w-12 h-12 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fab fa-instagram text-white text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Instagram</label>
                                    <input type="url" id="instagram_url" placeholder="https://instagram.com/yourprofile" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                            </div>
                            <div class="flex items-center space-x-4 p-4 bg-slate-50 rounded-xl">
                                <div class="w-12 h-12 bg-black rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fab fa-tiktok text-white text-xl"></i>
                                </div>
                                <div class="flex-1">
                                    <label class="block text-sm font-medium text-slate-700 mb-1">TikTok</label>
                                    <input type="url" id="tiktok_url" placeholder="https://tiktok.com/@yourprofile" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-end mt-4"><button onclick="saveSocialMedia()" class="btn-primary"><i class="fas fa-save mr-2"></i>L∆∞u thay ƒë·ªïi</button></div>
                    </div>

                    <!-- Payment Methods -->
                    <div class="content-card">
                        <h3 class="text-lg font-bold mb-4 flex items-center text-slate-800"><i class="fas fa-credit-card text-blue-600 mr-2"></i>Ph∆∞∆°ng th·ª©c thanh to√°n</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-4 bg-slate-50 rounded-xl">
                                <div class="flex items-center space-x-3"><i class="fas fa-money-bill-wave text-emerald-600 text-xl"></i><div><p class="font-medium text-slate-700">Ti·ªÅn m·∫∑t</p><p class="text-sm text-slate-500">Thanh to√°n khi nh·∫≠n h√†ng</p></div></div>
                                <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" id="thanh_toan_tien_mat" onchange="savePaymentMethod('thanh_toan_tien_mat', this.checked)" checked class="sr-only peer"><div class="w-11 h-6 bg-slate-200 peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div></label>
                            </div>
                            <div class="flex items-center justify-between p-4 bg-slate-50 rounded-xl">
                                <div class="flex items-center space-x-3"><i class="fas fa-university text-blue-600 text-xl"></i><div><p class="font-medium text-slate-700">Chuy·ªÉn kho·∫£n</p><p class="text-sm text-slate-500">Chuy·ªÉn kho·∫£n ng√¢n h√†ng</p></div></div>
                                <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" id="thanh_toan_chuyen_khoan" onchange="savePaymentMethod('thanh_toan_chuyen_khoan', this.checked)" checked class="sr-only peer"><div class="w-11 h-6 bg-slate-200 peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div></label>
                            </div>
                            <div class="flex items-center justify-between p-4 bg-slate-50 rounded-xl">
                                <div class="flex items-center space-x-3"><i class="fas fa-mobile-alt text-purple-600 text-xl"></i><div><p class="font-medium text-slate-700">MoMo</p><p class="text-sm text-slate-500">V√≠ ƒëi·ªán t·ª≠ MoMo</p></div></div>
                                <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" id="thanh_toan_momo" onchange="savePaymentMethod('thanh_toan_momo', this.checked)" checked class="sr-only peer"><div class="w-11 h-6 bg-slate-200 peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div></label>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Effects Settings -->
                    <div class="content-card">
                        <h3 class="text-lg font-bold mb-4 flex items-center text-slate-800"><i class="fas fa-magic text-blue-600 mr-2"></i>Hi·ªáu ·ª©ng trang tr√≠</h3>
                        <p class="text-sm text-slate-500 mb-4">B·∫≠t/t·∫Øt c√°c hi·ªáu ·ª©ng trang tr√≠ tr√™n website</p>
                        <div class="space-y-4">
                            <!-- Christmas Intro Effect -->
                            <div class="flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-xl">üéÑ</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-slate-700">Intro Gi√°ng sinh üéÖ</p>
                                        <p class="text-sm text-slate-500">M√†n h√¨nh ch√†o m·ª´ng Gi√°ng sinh v·ªõi √¥ng gi√† Noel</p>
                                    </div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="hieu_ung_intro_giang_sinh" onchange="saveEffectSetting('hieu_ung_intro_giang_sinh', this.checked)" class="sr-only peer">
                                    <div class="w-11 h-6 bg-slate-200 peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"></div>
                                </label>
                            </div>
                            
                            <!-- Tet Intro Effect -->
                            <div class="flex items-center justify-between p-4 bg-gradient-to-r from-red-50 to-orange-50 rounded-xl border border-red-200">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-gradient-to-br from-red-500 to-orange-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-xl">üßß</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-slate-700">Intro ch√†o m·ª´ng T·∫øt üéä</p>
                                        <p class="text-sm text-slate-500">M√†n h√¨nh ch√†o m·ª´ng nƒÉm m·ªõi khi v√†o trang</p>
                                    </div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="hieu_ung_intro_tet" onchange="saveEffectSetting('hieu_ung_intro_tet', this.checked)" class="sr-only peer">
                                    <div class="w-11 h-6 bg-slate-200 peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500"></div>
                                </label>
                            </div>
                            
                            <!-- Snow Effect -->
                            <div class="flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-100">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i class="fas fa-snowflake text-white text-xl"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium text-slate-700">Hi·ªáu ·ª©ng tuy·∫øt r∆°i ‚ùÑÔ∏è</p>
                                        <p class="text-sm text-slate-500">Tuy·∫øt r∆°i nh·∫π nh√†ng tr√™n to√†n trang web</p>
                                    </div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="hieu_ung_tuyet" onchange="saveEffectSetting('hieu_ung_tuyet', this.checked)" class="sr-only peer">
                                    <div class="w-11 h-6 bg-slate-200 peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                </label>
                            </div>
                            
                            <!-- Cherry Blossom Effect -->
                            <div class="flex items-center justify-between p-4 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl border border-pink-100">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-gradient-to-br from-pink-400 to-rose-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <span class="text-xl">üå∏</span>
                                    </div>
                                    <div>
                                        <p class="font-medium text-slate-700">Hi·ªáu ·ª©ng hoa mai üå∏</p>
                                        <p class="text-sm text-slate-500">Hoa mai/hoa ƒë√†o r∆°i l√£ng m·∫°n (T·∫øt)</p>
                                    </div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="hieu_ung_hoa_mai" onchange="saveEffectSetting('hieu_ung_hoa_mai', this.checked)" class="sr-only peer">
                                    <div class="w-11 h-6 bg-slate-200 peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                                </label>
                            </div>
                            
                            <!-- Preview buttons -->
                            <div class="flex flex-wrap gap-3 pt-2">
                                <button onclick="previewChristmasIntro()" class="flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition text-sm font-medium">
                                    <i class="fas fa-eye"></i>
                                    <span>Xem intro Gi√°ng sinh</span>
                                </button>
                                <button onclick="previewTetIntro()" class="flex items-center space-x-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition text-sm font-medium">
                                    <i class="fas fa-eye"></i>
                                    <span>Xem intro T·∫øt</span>
                                </button>
                                <button onclick="previewSnowEffect()" class="flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition text-sm font-medium">
                                    <i class="fas fa-eye"></i>
                                    <span>Xem tr∆∞·ªõc tuy·∫øt</span>
                                </button>
                                <button onclick="previewBlossomEffect()" class="flex items-center space-x-2 px-4 py-2 bg-pink-100 text-pink-700 rounded-lg hover:bg-pink-200 transition text-sm font-medium">
                                    <i class="fas fa-eye"></i>
                                    <span>Xem tr∆∞·ªõc hoa mai</span>
                                </button>
                                <button onclick="stopAllEffects()" class="flex items-center space-x-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition text-sm font-medium">
                                    <i class="fas fa-stop"></i>
                                    <span>D·ª´ng xem tr∆∞·ªõc</span>
                                </button>
                            </div>
                            
                            <div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mt-2">
                                <p class="text-sm text-amber-700">
                                    <i class="fas fa-info-circle mr-1"></i>
                                    <strong>L∆∞u √Ω:</strong> N√™n ch·ªâ b·∫≠t 1 hi·ªáu ·ª©ng t·∫°i m·ªôt th·ªùi ƒëi·ªÉm ƒë·ªÉ tr√°nh ·∫£nh h∆∞·ªüng hi·ªáu nƒÉng. Hi·ªáu ·ª©ng s·∫Ω t·ª± ƒë·ªông √°p d·ª•ng cho t·∫•t c·∫£ c√°c trang.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Danger Zone -->
                    <div class="bg-red-50 border border-red-200 rounded-2xl p-6">
                        <h3 class="text-lg font-bold mb-4 flex items-center text-red-700"><i class="fas fa-exclamation-triangle mr-2"></i>V√πng nguy hi·ªÉm</h3>
                        <div class="space-y-3">
                            <button class="w-full bg-white border border-red-300 text-red-700 px-4 py-2.5 rounded-xl hover:bg-red-50 transition"><i class="fas fa-database mr-2"></i>Sao l∆∞u d·ªØ li·ªáu</button>
                            <button class="w-full bg-white border border-red-300 text-red-700 px-4 py-2.5 rounded-xl hover:bg-red-50 transition"><i class="fas fa-trash-restore mr-2"></i>X√≥a cache h·ªá th·ªëng</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="check-auth.js"></script>
    <script src="admin-layout.js"></script>
    <script src="admin-mobile.js"></script>
    <script>
        // Load settings khi trang load
        async function loadSettings() {
            try {
                const response = await fetch(`${API_URL}/settings`, { credentials: 'include' });
                const result = await response.json();
                
                if (result.success && result.data) {
                    const s = result.data;
                    // Th√¥ng tin nh√† h√†ng
                    document.getElementById('ten_nha_hang').value = s.ten_nha_hang || '';
                    document.getElementById('so_dien_thoai').value = s.so_dien_thoai || '';
                    document.getElementById('email').value = s.email || '';
                    document.getElementById('website').value = s.website || '';
                    document.getElementById('dia_chi').value = s.dia_chi || '';
                    
                    // Gi·ªù ho·∫°t ƒë·ªông
                    if (s.gio_mo_cua_t2_t6) {
                        const [open1, close1] = s.gio_mo_cua_t2_t6.split('-');
                        document.getElementById('gio_mo_t2t6').value = open1 || '08:00';
                        document.getElementById('gio_dong_t2t6').value = close1 || '22:00';
                    }
                    if (s.gio_mo_cua_t7_cn) {
                        const [open2, close2] = s.gio_mo_cua_t7_cn.split('-');
                        document.getElementById('gio_mo_t7cn').value = open2 || '07:00';
                        document.getElementById('gio_dong_t7cn').value = close2 || '23:00';
                    }
                    
                    // Giao h√†ng
                    document.getElementById('cho_phep_giao_hang').checked = s.cho_phep_giao_hang === '1';
                    document.getElementById('phi_giao_hang').value = s.phi_giao_hang || '20000';
                    document.getElementById('mien_phi_giao_hang_tu').value = s.mien_phi_giao_hang_tu || '200000';
                    
                    // Thanh to√°n
                    document.getElementById('thanh_toan_tien_mat').checked = s.thanh_toan_tien_mat === '1';
                    document.getElementById('thanh_toan_chuyen_khoan').checked = s.thanh_toan_chuyen_khoan === '1';
                    document.getElementById('thanh_toan_momo').checked = s.thanh_toan_momo === '1';
                    
                    // M·∫°ng x√£ h·ªôi
                    document.getElementById('facebook_url').value = s.facebook_url || '';
                    document.getElementById('youtube_url').value = s.youtube_url || '';
                    document.getElementById('instagram_url').value = s.instagram_url || '';
                    document.getElementById('tiktok_url').value = s.tiktok_url || '';
                    
                    // Hi·ªáu ·ª©ng trang tr√≠
                    document.getElementById('hieu_ung_intro_giang_sinh').checked = s.hieu_ung_intro_giang_sinh === '1';
                    document.getElementById('hieu_ung_intro_tet').checked = s.hieu_ung_intro_tet === '1';
                    document.getElementById('hieu_ung_tuyet').checked = s.hieu_ung_tuyet === '1';
                    document.getElementById('hieu_ung_hoa_mai').checked = s.hieu_ung_hoa_mai === '1';
                }
            } catch (error) {
                console.error('Error loading settings:', error);
            }
        }

        // L∆∞u th√¥ng tin nh√† h√†ng
        async function saveRestaurantInfo(e) {
            e.preventDefault();
            try {
                const settings = {
                    ten_nha_hang: document.getElementById('ten_nha_hang').value,
                    so_dien_thoai: document.getElementById('so_dien_thoai').value,
                    email: document.getElementById('email').value,
                    website: document.getElementById('website').value,
                    dia_chi: document.getElementById('dia_chi').value
                };
                
                const response = await fetch(`${API_URL}/settings/bulk`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ settings }),
                    credentials: 'include'
                });
                
                const result = await response.json();
                alert(result.success ? 'ƒê√£ l∆∞u th√¥ng tin nh√† h√†ng!' : 'L·ªói: ' + result.message);
            } catch (error) {
                console.error('Error:', error);
                alert('C√≥ l·ªói x·∫£y ra!');
            }
        }

        // L∆∞u gi·ªù ho·∫°t ƒë·ªông
        async function saveBusinessHours() {
            try {
                const settings = {
                    gio_mo_cua_t2_t6: document.getElementById('gio_mo_t2t6').value + '-' + document.getElementById('gio_dong_t2t6').value,
                    gio_mo_cua_t7_cn: document.getElementById('gio_mo_t7cn').value + '-' + document.getElementById('gio_dong_t7cn').value
                };
                
                const response = await fetch(`${API_URL}/settings/bulk`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ settings }),
                    credentials: 'include'
                });
                
                const result = await response.json();
                alert(result.success ? 'ƒê√£ l∆∞u gi·ªù ho·∫°t ƒë·ªông!' : 'L·ªói: ' + result.message);
            } catch (error) {
                console.error('Error:', error);
                alert('C√≥ l·ªói x·∫£y ra!');
            }
        }

        // L∆∞u c√†i ƒë·∫∑t giao h√†ng
        async function saveDeliverySettings() {
            try {
                const settings = {
                    cho_phep_giao_hang: document.getElementById('cho_phep_giao_hang').checked ? '1' : '0',
                    phi_giao_hang: document.getElementById('phi_giao_hang').value,
                    mien_phi_giao_hang_tu: document.getElementById('mien_phi_giao_hang_tu').value
                };
                
                const response = await fetch(`${API_URL}/settings/bulk`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ settings }),
                    credentials: 'include'
                });
                
                const result = await response.json();
                alert(result.success ? 'ƒê√£ l∆∞u c√†i ƒë·∫∑t giao h√†ng!' : 'L·ªói: ' + result.message);
            } catch (error) {
                console.error('Error:', error);
                alert('C√≥ l·ªói x·∫£y ra!');
            }
        }

        // L∆∞u ph∆∞∆°ng th·ª©c thanh to√°n (t·ª± ƒë·ªông khi toggle)
        async function savePaymentMethod(key, checked) {
            try {
                await fetch(`${API_URL}/settings/${key}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ value: checked ? '1' : '0' }),
                    credentials: 'include'
                });
            } catch (error) {
                console.error('Error:', error);
            }
        }

        // L∆∞u m·∫°ng x√£ h·ªôi
        async function saveSocialMedia() {
            try {
                const settings = {
                    facebook_url: document.getElementById('facebook_url').value.trim(),
                    youtube_url: document.getElementById('youtube_url').value.trim(),
                    instagram_url: document.getElementById('instagram_url').value.trim(),
                    tiktok_url: document.getElementById('tiktok_url').value.trim()
                };
                
                const response = await fetch(`${API_URL}/settings/bulk`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ settings }),
                    credentials: 'include'
                });
                
                const result = await response.json();
                alert(result.success ? 'ƒê√£ l∆∞u li√™n k·∫øt m·∫°ng x√£ h·ªôi!' : 'L·ªói: ' + result.message);
            } catch (error) {
                console.error('Error:', error);
                alert('C√≥ l·ªói x·∫£y ra!');
            }
        }

        // Load settings khi trang load
        loadSettings();
        
        // ===== VISUAL EFFECTS FUNCTIONS =====
        
        // L∆∞u c√†i ƒë·∫∑t hi·ªáu ·ª©ng
        async function saveEffectSetting(key, checked) {
            try {
                const response = await fetch(`${API_URL}/settings/${key}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ value: checked ? '1' : '0' }),
                    credentials: 'include'
                });
                
                const result = await response.json();
                if (result.success) {
                    // Hi·ªÉn th·ªã th√¥ng b√°o nh·ªè
                    showToast(checked ? `ƒê√£ b·∫≠t ${key === 'hieu_ung_tuyet' ? 'hi·ªáu ·ª©ng tuy·∫øt' : 'hi·ªáu ·ª©ng hoa mai'}` : `ƒê√£ t·∫Øt ${key === 'hieu_ung_tuyet' ? 'hi·ªáu ·ª©ng tuy·∫øt' : 'hi·ªáu ·ª©ng hoa mai'}`, 'success');
                }
            } catch (error) {
                console.error('Error saving effect setting:', error);
                showToast('C√≥ l·ªói x·∫£y ra!', 'error');
            }
        }
        
        // Hi·ªÉn th·ªã toast notification
        function showToast(message, type = 'info') {
            // X√≥a toast c≈© n·∫øu c√≥
            const existingToast = document.querySelector('.toast-notification');
            if (existingToast) existingToast.remove();
            
            const toast = document.createElement('div');
            toast.className = `toast-notification fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2 animate-slide-up ${
                type === 'success' ? 'bg-green-500 text-white' : 
                type === 'error' ? 'bg-red-500 text-white' : 
                'bg-blue-500 text-white'
            }`;
            toast.innerHTML = `
                <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('animate-fade-out');
                setTimeout(() => toast.remove(), 300);
            }, 2500);
        }
        
        // Preview Christmas Intro
        function previewChristmasIntro() {
            // Load CSS n·∫øu ch∆∞a c√≥
            if (!document.getElementById('christmas-intro-css')) {
                const link = document.createElement('link');
                link.id = 'christmas-intro-css';
                link.rel = 'stylesheet';
                link.href = '../css/christmas-intro.css';
                document.head.appendChild(link);
            }
            
            // Load script n·∫øu ch∆∞a c√≥
            if (!window.ChristmasIntro) {
                const script = document.createElement('script');
                script.src = '../js/christmas-intro.js';
                script.onload = () => {
                    setTimeout(() => {
                        if (window.ChristmasIntro) {
                            window.ChristmasIntro.show();
                            showToast('ƒêang xem tr∆∞·ªõc intro Gi√°ng sinh üéÑ', 'info');
                        }
                    }, 100);
                };
                document.head.appendChild(script);
            } else {
                window.ChristmasIntro.show();
                showToast('ƒêang xem tr∆∞·ªõc intro Gi√°ng sinh üéÑ', 'info');
            }
        }
        
        // Preview Tet Intro
        function previewTetIntro() {
            // Load CSS n·∫øu ch∆∞a c√≥
            if (!document.getElementById('tet-intro-css')) {
                const link = document.createElement('link');
                link.id = 'tet-intro-css';
                link.rel = 'stylesheet';
                link.href = '../css/tet-intro.css';
                document.head.appendChild(link);
            }
            
            // Load script n·∫øu ch∆∞a c√≥
            if (!window.TetIntro) {
                const script = document.createElement('script');
                script.src = '../js/tet-intro.js';
                script.onload = () => {
                    setTimeout(() => {
                        if (window.TetIntro) {
                            window.TetIntro.show();
                            showToast('ƒêang xem tr∆∞·ªõc intro T·∫øt üßß', 'info');
                        }
                    }, 100);
                };
                document.head.appendChild(script);
            } else {
                window.TetIntro.show();
                showToast('ƒêang xem tr∆∞·ªõc intro T·∫øt üßß', 'info');
            }
        }
        
        // Preview Snow Effect
        function previewSnowEffect() {
            // Load script n·∫øu ch∆∞a c√≥
            if (!window.SnowEffect) {
                const script = document.createElement('script');
                script.src = '../js/snow-effect.js';
                script.onload = () => {
                    setTimeout(() => {
                        if (window.SnowEffect) {
                            window.SnowEffect.start();
                            showToast('ƒêang xem tr∆∞·ªõc hi·ªáu ·ª©ng tuy·∫øt ‚ùÑÔ∏è', 'info');
                        }
                    }, 100);
                };
                document.head.appendChild(script);
            } else {
                window.SnowEffect.start();
                showToast('ƒêang xem tr∆∞·ªõc hi·ªáu ·ª©ng tuy·∫øt ‚ùÑÔ∏è', 'info');
            }
        }
        
        // Preview Cherry Blossom Effect
        function previewBlossomEffect() {
            // Load script n·∫øu ch∆∞a c√≥
            if (!window.CherryBlossomEffect) {
                const script = document.createElement('script');
                script.src = '../js/cherry-blossom-effect.js';
                script.onload = () => {
                    setTimeout(() => {
                        if (window.CherryBlossomEffect) {
                            window.CherryBlossomEffect.start();
                            showToast('ƒêang xem tr∆∞·ªõc hi·ªáu ·ª©ng hoa mai üå∏', 'info');
                        }
                    }, 100);
                };
                document.head.appendChild(script);
            } else {
                window.CherryBlossomEffect.start();
                showToast('ƒêang xem tr∆∞·ªõc hi·ªáu ·ª©ng hoa mai üå∏', 'info');
            }
        }
        
        // Stop all effects preview
        function stopAllEffects() {
            if (window.SnowEffect) {
                window.SnowEffect.stop();
            }
            if (window.CherryBlossomEffect) {
                window.CherryBlossomEffect.stop();
            }
            showToast('ƒê√£ d·ª´ng xem tr∆∞·ªõc hi·ªáu ·ª©ng', 'info');
        }
    </script>
    
    <style>
        @keyframes slide-up {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        .animate-slide-up {
            animation: slide-up 0.3s ease-out;
        }
        @keyframes fade-out {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        .animate-fade-out {
            animation: fade-out 0.3s ease-out;
        }
    </style>
</body>
</html>
